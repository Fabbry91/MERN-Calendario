{"ast":null,"code":"import { fetchConToken } from \"../helpers/fetch\";\nimport { prepareEvents } from \"../helpers/prepareEvents\";\nimport { types } from \"../types/types\";\nexport const eventStartAddNew = event => {\n  return async (dispatch, getState) => {\n    const {\n      uid,\n      name\n    } = getState().auth;\n\n    try {\n      const resp = await fetchConToken('events', event, 'POST');\n      const body = await resp.json();\n      console.log(body);\n\n      if (body.ok) {\n        event.id = body.evento.id;\n        event.user = {\n          _id: uid,\n          name: name\n        };\n        console.log(event);\n        dispatch(eventAddNew(event));\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nconst eventAddNew = event => ({\n  type: types.eventAddNew,\n  payload: event\n});\n\nexport const eventSetActive = event => ({\n  type: types.eventSetActive,\n  payload: event\n});\nexport const eventClearActiveEvent = () => ({\n  type: types.eventClearActiveEvent\n});\nexport const eventStartUpdate = event => ({\n  type: types.eventUpdate,\n  payload: event\n});\n\nconst eventUpdate = event => ({\n  type: types.eventUpdate,\n  payload: event\n});\n\nexport const eventDelete = event => ({\n  type: types.eventDelete\n});\nexport const eventStartLoading = () => {\n  return async dispatch => {\n    try {\n      const resp = await fetchConToken('events');\n      const body = await resp.json();\n      const events = prepareEvents(body.eventos);\n      dispatch(eventLoaded(events));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n\nconst eventLoaded = events => ({\n  type: types.eventLoaded,\n  payload: events\n});","map":{"version":3,"sources":["/home/fabbry/Desktop/Mern-Calendari/calendar-app/src/actions/events.js"],"names":["fetchConToken","prepareEvents","types","eventStartAddNew","event","dispatch","getState","uid","name","auth","resp","body","json","console","log","ok","id","evento","user","_id","eventAddNew","error","type","payload","eventSetActive","eventClearActiveEvent","eventStartUpdate","eventUpdate","eventDelete","eventStartLoading","events","eventos","eventLoaded"],"mappings":"AAAA,SAASA,aAAT,QAA8B,kBAA9B;AACA,SAASC,aAAT,QAA8B,0BAA9B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAO,MAAMC,gBAAgB,GAAIC,KAAD,IAAW;AACvC,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAEjC,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,QAAgBF,QAAQ,GAAGG,IAAjC;;AAEA,QAAI;AACA,YAAMC,IAAI,GAAG,MAAMV,aAAa,CAAC,QAAD,EAAWI,KAAX,EAAkB,MAAlB,CAAhC;AACA,YAAMO,IAAI,GAAG,MAAMD,IAAI,CAACE,IAAL,EAAnB;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AAEA,UAAIA,IAAI,CAACI,EAAT,EAAa;AACTX,QAAAA,KAAK,CAACY,EAAN,GAAWL,IAAI,CAACM,MAAL,CAAYD,EAAvB;AACAZ,QAAAA,KAAK,CAACc,IAAN,GAAa;AACTC,UAAAA,GAAG,EAAEZ,GADI;AAETC,UAAAA,IAAI,EAAEA;AAFG,SAAb;AAIAK,QAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACAC,QAAAA,QAAQ,CAACe,WAAW,CAAChB,KAAD,CAAZ,CAAR;AACH;AAGJ,KAjBD,CAiBE,OAAOiB,KAAP,EAAc;AACZR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACH;AAIJ,GA3BD;AA4BH,CA7BM;;AA+BP,MAAMD,WAAW,GAAIhB,KAAD,KAAY;AAC5BkB,EAAAA,IAAI,EAAEpB,KAAK,CAACkB,WADgB;AAE5BG,EAAAA,OAAO,EAAEnB;AAFmB,CAAZ,CAApB;;AAKA,OAAO,MAAMoB,cAAc,GAAIpB,KAAD,KAAY;AACtCkB,EAAAA,IAAI,EAAEpB,KAAK,CAACsB,cAD0B;AAEtCD,EAAAA,OAAO,EAAEnB;AAF6B,CAAZ,CAAvB;AAKP,OAAO,MAAMqB,qBAAqB,GAAG,OAAO;AACxCH,EAAAA,IAAI,EAAEpB,KAAK,CAACuB;AAD4B,CAAP,CAA9B;AAIP,OAAO,MAAMC,gBAAgB,GAAItB,KAAD,KAAY;AACxCkB,EAAAA,IAAI,EAAEpB,KAAK,CAACyB,WAD4B;AAExCJ,EAAAA,OAAO,EAAEnB;AAF+B,CAAZ,CAAzB;;AAKP,MAAMuB,WAAW,GAAIvB,KAAD,KAAY;AAC5BkB,EAAAA,IAAI,EAAEpB,KAAK,CAACyB,WADgB;AAE5BJ,EAAAA,OAAO,EAAEnB;AAFmB,CAAZ,CAApB;;AAKA,OAAO,MAAMwB,WAAW,GAAIxB,KAAD,KAAY;AACnCkB,EAAAA,IAAI,EAAEpB,KAAK,CAAC0B;AADuB,CAAZ,CAApB;AAIP,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACnC,SAAO,MAAOxB,QAAP,IAAoB;AAEvB,QAAI;AAEA,YAAMK,IAAI,GAAG,MAAMV,aAAa,CAAC,QAAD,CAAhC;AACA,YAAMW,IAAI,GAAG,MAAMD,IAAI,CAACE,IAAL,EAAnB;AAEA,YAAMkB,MAAM,GAAG7B,aAAa,CAACU,IAAI,CAACoB,OAAN,CAA5B;AACA1B,MAAAA,QAAQ,CAAC2B,WAAW,CAACF,MAAD,CAAZ,CAAR;AAEH,KARD,CAQE,OAAOT,KAAP,EAAc;AACZR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACH;AAEJ,GAdD;AAeH,CAhBM;;AAkBP,MAAMW,WAAW,GAAIF,MAAD,KAAa;AAC7BR,EAAAA,IAAI,EAAEpB,KAAK,CAAC8B,WADiB;AAE7BT,EAAAA,OAAO,EAAEO;AAFoB,CAAb,CAApB","sourcesContent":["import { fetchConToken } from \"../helpers/fetch\";\nimport { prepareEvents } from \"../helpers/prepareEvents\";\nimport { types } from \"../types/types\";\n\nexport const eventStartAddNew = (event) => {\n    return async (dispatch, getState) => {\n\n        const { uid, name } = getState().auth;\n\n        try {\n            const resp = await fetchConToken('events', event, 'POST');\n            const body = await resp.json();\n\n            console.log(body)\n\n            if (body.ok) {\n                event.id = body.evento.id;\n                event.user = {\n                    _id: uid,\n                    name: name\n                }\n                console.log(event);\n                dispatch(eventAddNew(event));\n            }\n\n\n        } catch (error) {\n            console.log(error);\n        }\n\n\n\n    }\n}\n\nconst eventAddNew = (event) => ({\n    type: types.eventAddNew,\n    payload: event\n});\n\nexport const eventSetActive = (event) => ({\n    type: types.eventSetActive,\n    payload: event\n});\n\nexport const eventClearActiveEvent = () => ({\n    type: types.eventClearActiveEvent\n});\n\nexport const eventStartUpdate = (event) => ({\n    type: types.eventUpdate,\n    payload: event\n});\n\nconst eventUpdate = (event) => ({\n    type: types.eventUpdate,\n    payload: event\n});\n\nexport const eventDelete = (event) => ({\n    type: types.eventDelete\n});\n\nexport const eventStartLoading = () => {\n    return async (dispatch) => {\n\n        try {\n\n            const resp = await fetchConToken('events');\n            const body = await resp.json();\n\n            const events = prepareEvents(body.eventos);\n            dispatch(eventLoaded(events));\n\n        } catch (error) {\n            console.log(error)\n        }\n\n    }\n}\n\nconst eventLoaded = (events) => ({\n    type: types.eventLoaded,\n    payload: events\n})"]},"metadata":{},"sourceType":"module"}